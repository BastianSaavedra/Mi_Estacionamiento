{% extends 'mi_estacionamiento/base_web.html' %}
{% block content %}
<head>
  <!-- CSS MAP-BOX -->
  <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body>

  <div id='map' style='width: 100%; height: 500px;'></div>
  <script>
    mapboxgl.accessToken = '{{ mapbox_access_token }}';
    var map = new mapboxgl.Map({
      container: 'map', // container ID
      style: 'mapbox://styles/mapbox/streets-v11', // style URL
      center: [-70.710783, -33.598861], // starting position [lng, lat]
      zoom: 9 // starting zoom
    });
    {% for address in addresses %}
    var marker = new mapboxgl.Marker()
      .setLngLat([{{ address.longitude }}, {{ address.latitude }}])
      .addTo(map);
    {% endfor %}
    
  </script>
</body>

{% endblock %}

